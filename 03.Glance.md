# Glance
## 1. Giới thiệu
- Glane (Image Service) là image service cung cấp khả năng discovering, registering (đăng ký), retrieving (thu thập) các image cho virtual machine. OpenStack Glance là central repository cho virtual image.
- Glance cung cấp RESTful API cho phép querying VM image metadata cũng như thu thập các actual image.
- VM image có sẵn thông qua Glance có thể stored trong nhiều vị trí khác nhau, từ file system đến object storage system như OpenStack Swift OpenStack.
- Trong Glance, images được lưu trữ như template, được sử dụng để launching new instances. Glance được thiết kế để trở thành một service độc lập đối với các user cần tổ chức large virtual disk images. Glance cung cấp giải pháp end-to-end cho cloud disk image management. Nó cũng có thể lấy các bản snapshots từ running instance cho việc backing up VM và các states của VM.
## 2. Thành phần
Glance có các components:
- glance-api: chấp nhận API calls cho việc tìm kiếm, lấy và lưu trữ image.
- glance-registry: thực hiện lưu trữ, xử lý và lấy thông tin metadata của image.
- database: lưu trữ metadata của image.
- storage repository: tích hợp với nhiều thành phần của OpenStack như file systems, Amazon S3 và HTTP cho image storages.

<img src=https://i.imgur.com/sV262WV.png>

Glance chấp nhận API request cho image từ end-users hoặc Nova components và có thể stores nó trong object storage service, swift hoặc storage repository khác.

Image server hỗ trợ các back-end stores:

- **File system:** OpenStack Image server lưu trữ virtual machine images trong file system back end là default. Đây là back end đơn giản lưu trữ image files trong local file system.
- **Object Storage:** Là hệ thống lưu trữ do OpenStack Swift cung cấp - dịch vụ lưu trữ có tính sẵn sàng cao, lưu trữ các image dưới dạng các object.
- **Block Storage:** Hệ thống lưu trữ có tính sẵn sàng cao do OpenStack Cinder cung cấp, lưu trữ các image dưới dạng block.
- **VMware:** ESX/ESXi or vCenter Server target system.
- **S3:** The Amazon S3 service.
- **HTTP:** OpenStack Image service có thể đọc virtual machine images mà có sẵn trên Internet sử dụng HTTP. Đây là store chỉ đọc.
- **RADOS Block Device (RBD):** Stores images trong Ceph storage cluster sử dụng Ceph’s RBD interface.
- **Sheepdog:** A distributed storage system dành cho QEMU/KVM.
- **GridFS:** Stores images sử dụng MongoDB.
